
@{
    ViewData["Title"] = "Index Car";
}

<div style="margin-top: 20px;">
    <partial name="_CarFilter" model="new CarFilterModel()" />
</div>

<div class="row">
    <div class="col-md-12">
        <a asp-action="Create" class="btn btn-success pull-right">Dodaj automobil</a>
    </div>
</div>

<div id="TableViewCar">

</div>

@section Scripts{
    <script>
        $(document).ready(function () {
            $("#carTable").replaceWith(

                $.ajax({
                url: "@Url.Action("IndexAjax")",
                method: "POST",
                success: function (html) {
                    $("#TableViewCar").html(html);
                }
            }));
        });

    </script>


    <script>
        $(document).ready(function () {

            $("#confirmCar").click(function () {
                $("#carTable").replaceWith(

                    $.ajax({
                    url: "@Url.Action("IndexAjax")",
                    method: "POST",
                    data: $("#carFilter").serializeArray(),
                    success: function (html) {
                        $("#TableViewCar").html(html);
                    }
                }));
            })
        });
    </script>
}